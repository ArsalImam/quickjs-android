var sonicNativeBridgeCore=function(){"use strict";function c(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t}function o(){}function l(e){return"[object Function]"===Object.prototype.toString.call(e)}function i(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t="";if(e=r=r||{},"[object Object]"===Object.prototype.toString.call(e))try{t=JSON.stringify(r)}catch(e){t=""}return t}return new(function(){function r(){var e,a=this;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");n(this,"_addCallbackCache",function(e,r,t){return a._callbackMap[e]={callback:l(r)?r:o,once:t},e}),n(this,"_removeCallbackCache",function(e){return delete a._callbackMap[e],!0}),n(this,"execGlobalCallback",function(e,r){if(null==e)throw new Error("jsbridge error: execGlobalCallback cid params must be needed, but found ".concat(e));var t=a._callbackMap[e];if(!t||!l(t.callback))throw new Error("jsbridge error: _callbackMap not found such callback ".concat(e));t.callback(r),t.once&&a._removeCallbackCache(e)}),this._getCid=(e=1,function(){return"".concat(e++)}),this._callbackMap={}}var e,t,a;return e=r,(t=[{key:"invoke",value:function(e,r,t,a){var c=4<arguments.length&&void 0!==arguments[4]&&arguments[4];if(!e||!r)throw new Error("jsbridge error: module or method param must be needed, but found module ".concat(e,"、method ").concat(r," when invoke is called"));l(a)||(a=o);var n=this._getCid();this._addCallbackCache(n,a,c);try{sonicCallNative(e,r,i(t),n)}catch(e){throw new Error("jsbridge error: callScheme throw error ".concat(e?e.message:"unknown error"))}}}])&&c(e.prototype,t),a&&c(e,a),Object.defineProperty(e,"prototype",{writable:!1}),r}())}();function sonicCallJs(cid, params) {sonicNativeBridgeCore.execGlobalCallback(cid, params)};
